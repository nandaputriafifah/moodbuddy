<ion-header>
  <ion-toolbar>
    <ion-title>Mood Check-In</ion-title>
    <ion-buttons>
      <ion-back-button mode="md" defaultHref = "/dashboard/tabs/landing-page"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-row>
    <!-- Input Date -->
    <ion-card>
      <ion-input
        [(ngModel)]="addMood.date"
        value="{{ date | date: 'MMMM dd, YYY' }}"
        id="date"
        class="ion-text-start"
      ></ion-input>
      <ion-popover
        trigger="date"
        side="start"
        alignment="end"
        size="auto">
        <ng-template>
          <ion-datetime
            presentation="date"
            [(ngModel)]="date"
            [max]="maxDate"
            locale="en-US"
          ></ion-datetime>
        </ng-template>
      </ion-popover>
    </ion-card>

    <!-- Current Mood -->
    <ion-card>
      <ion-label>How's your feeling?</ion-label>
      <br>
      <ion-radio-group [(ngModel)]="addMood.currentMood" >
        <ion-item *ngFor="let mood of Mood">
          <ion-label>{{mood.moodName}}</ion-label>
          <ion-radio value="{{mood.moodName}}"></ion-radio>
        </ion-item>
      </ion-radio-group>
    </ion-card>

    <!-- Current Feeling -->
    <ion-card>
      <ion-label>Which words can describe your feelings?</ion-label>
      <br>
      <ion-select multiple="true" [(ngModel)]="addMood.currentFeeling">
        <ion-item *ngFor="let feelings of Feelings">
          <ion-select-option value="{{feelings.feelingName}}">{{feelings.feelingName}}</ion-select-option>
        </ion-item>
      </ion-select>
    </ion-card>

    <!-- Activities -->
    <ion-card>
      <ion-label>What’s going on, what’s making you feel this way?</ion-label>
      <br>
      <ion-select multiple="true" [(ngModel)]="addMood.activities">
        <ion-item *ngFor="let activities of Activities">
          <ion-select-option value="{{activities.activityName}}">{{activities.activityName}}</ion-select-option>
        </ion-item>
      </ion-select>
    </ion-card>

    <!-- Notes -->
    <ion-col size="12">
      <ion-item>
        <ion-input [(ngModel)]="addMood.notes" placeholder="Notes"></ion-input>
      </ion-item>
    </ion-col>

    <!--Submit Button -->
    <ion-col size="10" offset="1">
      <ion-button expand="block"
                  color="success"
                  (click)="AddMood(addMood.date,
                  addMood.currentMood,
                  addMood.currentFeeling,
                  addMood.activities,
                  addMood.notes)">Add</ion-button>
    </ion-col>
  </ion-row>
</ion-content>
